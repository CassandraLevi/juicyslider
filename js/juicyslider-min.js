(function(a){a.fn.juicyslider=function(k){var e=a.extend({mode:"cover",width:"100%",height:"100%",mask:"raster",bgcolor:"#000",autoplay:4000,show:{effect:"fade",duration:1500},hide:{effect:"fade",duration:1500},},k),c=this.find("li"),h=c.length,g=0,f=function(i){if(i){i.preventDefault()}a(c[g]).hide(e.hide);g=(g<h-1)?g+1:0;a(c[g]).css({display:"block"});d();a(c[g]).css({display:"none"});a(c[g]).show(e.show)},b=a(window),j=this;this.css("background-color",e.bgcolor);this.find(".mask").css("background-image",e.mask=="none"?"none":"url(./img/"+e.mask+".png)");this.find(".nav.next").click(f);if(e.autoplay>0){setInterval(f,e.autoplay)}function d(){j.width(e.width==null?b.width():e.width);j.height(e.height==null?b.height():e.height);vieww=j.width();viewh=j.height();viewRatio=vieww/viewh;bgimg=a(c[g]).find("img");var i=function(){imgRatio=bgimg.width()/bgimg.height();if((viewRatio<imgRatio&&e.mode=="contain")||(viewRatio>=imgRatio&&e.mode=="cover")){bgimg.removeClass("maxh").addClass("maxw").css({top:(viewh-vieww/imgRatio)/2,left:0})}else{bgimg.removeClass("maxw").addClass("maxh").css({top:0,left:(vieww-imgRatio*viewh)/2})}};bgimg.get(0).complete?i():bgimg.load(i)}b.resize(d).trigger("resize");return this}}(jQuery));